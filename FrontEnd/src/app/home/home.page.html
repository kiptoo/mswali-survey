<ion-header>
  <ion-toolbar>
    <ion-buttons slot="primary">
      <ion-chip>
        <ion-avatar>
          <img src="../../assets/avatar.svg" />
        </ion-avatar>
        <ion-label>{{username}}</ion-label>
      </ion-chip>
      <ion-button (click)="logout()">
        <!-- <ion-icon slot="icon-only" name="logout"></ion-icon> -->

        <ion-icon size="large" name="log-out-sharp"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Mswali Test Survey</ion-title>
    <!-- <ion-buttons slot="end">
      <ion-menu-button autoHide="false"></ion-menu-button>
    </ion-buttons> -->
  </ion-toolbar>
</ion-header>
<ion-content class="ion-padding">
  <ion-text color="primary">
    <h1>Surveys</h1>
  </ion-text>
  <a [routerLink]="['/survey/create']">
    <ion-button>
      New Survey
      <ion-icon name="add-sharp"></ion-icon>
    </ion-button>
  </a>

  <ion-row>
    <ion-col size="12" *ngIf="!surveys?.length">
      <h1>No Surveys found,create new</h1>
    </ion-col>
    <ion-col size="6" *ngFor="let survey of surveys">
      <ion-card class="favCard">
        <ion-card-header class="favCard-header">
          <ion-card-title>{{survey.title}}</ion-card-title>
          <ion-card-subtitle>{{survey.description}}</ion-card-subtitle>
        </ion-card-header>

        <ion-card-content class="favCard-content">
          <ion-label class="ion-padding-top ion-margin-top">
            <h3 class="heading ion-padding">
              Current Result Count: {{survey.submissions.length}}
            </h3>
            <h3 class="heading ion-padding">Result Submit Today : 0</h3>
            <h3 class="heading ion-padding">
              Last Result Submit At: {{survey.createdate| date:'medium' }}
            </h3>
            <h3 class="heading ion-padding">
              Link of The Survey:
              <a href="/take-survey/{{survey._id}}" target="_blank">
                {{clientUrl}}/take-survey/{{survey._id}}
              </a>
            </h3>

            <ion-button (click)="delete(survey._id)">
              <!-- <ion-icon slot="end" name="trash-sharp"></ion-icon> -->
              <ion-icon slot="icon-only" name="trash-sharp"></ion-icon>
            </ion-button>

            <a [routerLink]="['/survey/edit/'+survey._id]">
              <ion-button>
                <ion-icon slot="icon-only" name="create-sharp"></ion-icon>
              </ion-button>
            </a>
            <a [routerLink]="['/survey/data/'+survey._id]">
              <ion-button>
                Data
                <!-- <ion-icon name="eye-outline" class="ion-padding"></ion-icon> -->
                <ion-icon name="analytics-sharp" class="ion-padding"></ion-icon>
                <!-- <ion-icon slot="icon-only" name="eye-outline"></ion-icon> -->
              </ion-button>
            </a>
            <ion-button>
              Reports
              <ion-icon name="stats-chart-sharp" class="ion-padding"></ion-icon>
              <!-- <ion-icon name="analytics-sharp" class="ion-padding"></ion-icon> -->

              <!-- <ion-icon slot="icon-only" name="stats-chart-sharp"></ion-icon> -->
            </ion-button>

            <a href="/take-survey/{{survey._id}}" target="_blank">
              <ion-button>
                Take Survey
                <ion-icon slot="end" name="link-outline"></ion-icon>
              </ion-button>
            </a>

            <!-- <h3 class="heading">{{event.project_name}}</h3> -->
            <!-- <h5 class="end">
              <div class="event_btn">
                <ion-button *ngIf="event.project_type"> </ion-button>
              </div>
            </h5> -->
          </ion-label>
        </ion-card-content>
      </ion-card>
    </ion-col>
  </ion-row>
</ion-content>
