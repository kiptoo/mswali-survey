(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"ct+p":function(t,n,e){"use strict";e.r(n),e.d(n,"HomePageModule",(function(){return p}));var o=e("ofXK"),i=e("TEn/"),r=e("3Pt+"),b=e("tyNb"),s=e("EnSQ"),c=e("fXoL");function a(t,n){1&t&&(c.Kb(0,"ion-col",10),c.Kb(1,"h1"),c.hc(2,"No Surveys found,create new"),c.Jb(),c.Jb())}const l=function(t){return[t]};function u(t,n){if(1&t){const t=c.Lb();c.Kb(0,"ion-col",11),c.Kb(1,"ion-card",12),c.Kb(2,"ion-card-header",13),c.Kb(3,"ion-card-title"),c.hc(4),c.Jb(),c.Kb(5,"ion-card-subtitle"),c.hc(6),c.Jb(),c.Jb(),c.Kb(7,"ion-card-content",14),c.Kb(8,"ion-label",15),c.Kb(9,"h3",16),c.hc(10),c.Jb(),c.Kb(11,"h3",16),c.hc(12,"Result Submit Today : 0"),c.Jb(),c.Kb(13,"h3",16),c.hc(14),c.Ub(15,"date"),c.Jb(),c.Kb(16,"h3",16),c.hc(17," Link of The Survey: "),c.Kb(18,"a",17),c.hc(19),c.Jb(),c.Jb(),c.Kb(20,"ion-button",2),c.Rb("click",(function(){c.dc(t);const e=n.$implicit;return c.Tb().delete(e._id)})),c.Ib(21,"ion-icon",18),c.Jb(),c.Kb(22,"a",6),c.Kb(23,"ion-button"),c.Ib(24,"ion-icon",19),c.Jb(),c.Jb(),c.Kb(25,"a",6),c.Kb(26,"ion-button"),c.hc(27," Data "),c.Ib(28,"ion-icon",20),c.Jb(),c.Jb(),c.Kb(29,"ion-button"),c.hc(30," Reports "),c.Ib(31,"ion-icon",21),c.Jb(),c.Kb(32,"a",17),c.Kb(33,"ion-button"),c.hc(34," Take Survey "),c.Ib(35,"ion-icon",22),c.Jb(),c.Jb(),c.Jb(),c.Jb(),c.Jb(),c.Jb()}if(2&t){const t=n.$implicit,e=c.Tb();c.xb(4),c.ic(t.title),c.xb(2),c.ic(t.description),c.xb(4),c.jc(" Current Result Count: ",t.submissions.length," "),c.xb(4),c.jc(" Last Result Submit At: ",c.Vb(15,10,t.createdate,"medium")," "),c.xb(4),c.Zb("href","/take-survey/",t._id,"",c.ec),c.xb(1),c.kc(" ",e.clientUrl,"/take-survey/",t._id," "),c.xb(3),c.Yb("routerLink",c.bc(13,l,"/survey/edit/"+t._id)),c.xb(3),c.Yb("routerLink",c.bc(15,l,"/survey/data/"+t._id)),c.xb(7),c.Zb("href","/take-survey/",t._id,"",c.ec)}}const h=function(){return["/survey/create"]};let d=(()=>{class t{constructor(t,n,e,o){this.dataService=t,this.router=n,this.modalController=e,this.routerOutlet=o,this.SubmissionCount=0,this.currentSegment="All",this.clientUrl="",this.encryptvalue=null,this.decryptvalue=null,this.encryptinput={value:null},this.decryptinput={value:null},this.clientUrl=window.location.hostname+":"+window.location.port,this.currentUser=JSON.parse(localStorage.getItem("mswalitoken")),this.dataService.getsurveys(this.currentUser._id).subscribe(t=>{let n=0;return this.surveys=t.map(t=>(t.questions.forEach(t=>{n=+t.submissions.length}),t.submissionCount=n,t)),console.log("this.surveyData",t),t}),console.log("this.surveyData",this.surveys);let i=this.currentUser.email.split("@");this.username=i[0]}ionViewWillEnter(){this.clientUrl=window.location.port?window.location.hostname+":"+window.location.port:window.location.hostname}delete(t){alert("delete survey :"+t)}logout(){this.dataService.logout().subscribe(t=>{console.log("logged out",t)})}}return t.\u0275fac=function(n){return new(n||t)(c.Hb(s.a),c.Hb(b.g),c.Hb(i.H),c.Hb(i.x))},t.\u0275cmp=c.Bb({type:t,selectors:[["app-home"]],decls:23,vars:5,consts:[["slot","primary"],["src","../../assets/avatar.svg"],[3,"click"],["size","large","name","log-out-sharp"],[1,"ion-padding"],["color","primary"],[3,"routerLink"],["name","add-sharp"],["size","12",4,"ngIf"],["size","6",4,"ngFor","ngForOf"],["size","12"],["size","6"],[1,"favCard"],[1,"favCard-header"],[1,"favCard-content"],[1,"ion-padding-top","ion-margin-top"],[1,"heading","ion-padding"],["target","_blank",3,"href"],["slot","icon-only","name","trash-sharp"],["slot","icon-only","name","create-sharp"],["name","analytics-sharp",1,"ion-padding"],["name","stats-chart-sharp",1,"ion-padding"],["slot","end","name","link-outline"]],template:function(t,n){1&t&&(c.Kb(0,"ion-header"),c.Kb(1,"ion-toolbar"),c.Kb(2,"ion-buttons",0),c.Kb(3,"ion-chip"),c.Kb(4,"ion-avatar"),c.Ib(5,"img",1),c.Jb(),c.Kb(6,"ion-label"),c.hc(7),c.Jb(),c.Jb(),c.Kb(8,"ion-button",2),c.Rb("click",(function(){return n.logout()})),c.Ib(9,"ion-icon",3),c.Jb(),c.Jb(),c.Kb(10,"ion-title"),c.hc(11,"Mswali Test Survey"),c.Jb(),c.Jb(),c.Jb(),c.Kb(12,"ion-content",4),c.Kb(13,"ion-text",5),c.Kb(14,"h1"),c.hc(15,"Surveys"),c.Jb(),c.Jb(),c.Kb(16,"a",6),c.Kb(17,"ion-button"),c.hc(18," New Survey "),c.Ib(19,"ion-icon",7),c.Jb(),c.Jb(),c.Kb(20,"ion-row"),c.gc(21,a,3,0,"ion-col",8),c.gc(22,u,36,17,"ion-col",9),c.Jb(),c.Jb()),2&t&&(c.xb(7),c.ic(n.username),c.xb(9),c.Yb("routerLink",c.ac(4,h)),c.xb(5),c.Yb("ngIf",!(null!=n.surveys&&n.surveys.length)),c.xb(1),c.Yb("ngForOf",n.surveys))},directives:[i.o,i.D,i.e,i.k,i.c,i.s,i.d,i.p,i.C,i.m,i.B,b.j,i.L,i.y,o.j,o.i,i.l,i.f,i.h,i.j,i.i,i.g],pipes:[o.d],styles:["ion-content[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background:translucent}"]}),t})(),p=(()=>{class t{}return t.\u0275mod=c.Fb({type:t}),t.\u0275inj=c.Eb({factory:function(n){return new(n||t)},imports:[[o.b,r.g,i.E,b.k.forChild([{path:"",component:d}])]]}),t})()}}]);